hlsl.structcopylogical.comp
Shader version: 500
local_size = (128, 1, 1)
0:? Sequence
0:20  Function Definition: @main(u1; ( temp void)
0:20    Function Parameters: 
0:20      'id' ( in uint)
0:?     Sequence
0:21      move second child to first child ( temp structure{ temp uint a,  temp uint b,  temp uint c})
0:21        direct index ( temp structure{ temp uint a,  temp uint b,  temp uint c})
0:21          's' ( shared 128-element array of structure{ temp uint a,  temp uint b,  temp uint c})
0:21          Constant:
0:21            0 (const int)
0:21        Constant:
0:21          1 (const uint)
0:21          2 (const uint)
0:21          3 (const uint)
0:22      Sequence
0:22        move second child to first child ( temp uint)
0:22          'count' ( temp uint)
0:22          count: direct index for structure ( temp uint)
0:22            direct index (layout( row_major std430) buffer structure{ temp uint count,  temp unsized 1-element array of structure{ temp uint a,  temp uint b,  temp uint c} data})
0:22              @data: direct index for structure (layout( row_major std430) buffer unsized 1-element array of structure{ temp uint count,  temp unsized 1-element array of structure{ temp uint a,  temp uint b,  temp uint c} data})
0:22                'sb' (layout( row_major std430) readonly buffer block{layout( row_major std430) buffer unsized 1-element array of structure{ temp uint count,  temp unsized 1-element array of structure{ temp uint a,  temp uint b,  temp uint c} data} @data})
0:22                Constant:
0:22                  0 (const uint)
0:22              Constant:
0:22                0 (const int)
0:22            Constant:
0:22              0 (const int)
0:23      Sequence
0:23        move second child to first child ( temp structure{ temp uint a,  temp uint b,  temp uint c})
0:23          'ms' ( temp structure{ temp uint a,  temp uint b,  temp uint c})
0:23          Test condition and select ( temp structure{ temp uint a,  temp uint b,  temp uint c}): no shortcircuit
0:23            Condition
0:23            Compare Greater Than ( temp bool)
0:23              'id' ( in uint)
0:23              'count' ( temp uint)
0:23            true case
0:23            indirect index ( temp structure{ temp uint a,  temp uint b,  temp uint c})
0:23              's' ( shared 128-element array of structure{ temp uint a,  temp uint b,  temp uint c})
0:23              subtract ( temp uint)
0:23                'id' ( in uint)
0:23                'count' ( temp uint)
0:23            false case
0:23            indirect index ( temp structure{ temp uint a,  temp uint b,  temp uint c})
0:23              data: direct index for structure ( temp unsized 1-element array of structure{ temp uint a,  temp uint b,  temp uint c})
0:23                direct index (layout( row_major std430) buffer structure{ temp uint count,  temp unsized 1-element array of structure{ temp uint a,  temp uint b,  temp uint c} data})
0:23                  @data: direct index for structure (layout( row_major std430) buffer unsized 1-element array of structure{ temp uint count,  temp unsized 1-element array of structure{ temp uint a,  temp uint b,  temp uint c} data})
0:23                    'sb' (layout( row_major std430) readonly buffer block{layout( row_major std430) buffer unsized 1-element array of structure{ temp uint count,  temp unsized 1-element array of structure{ temp uint a,  temp uint b,  temp uint c} data} @data})
0:23                    Constant:
0:23                      0 (const uint)
0:23                  Constant:
0:23                    0 (const int)
0:23                Constant:
0:23                  1 (const int)
0:23              'id' ( in uint)
0:25      AtomicAdd ( temp uint)
0:25        a: direct index for structure ( temp uint)
0:25          direct index (layout( row_major std430) buffer structure{ temp uint a,  temp uint b,  temp uint c})
0:25            @data: direct index for structure (layout( row_major std430) buffer unsized 1-element array of structure{ temp uint a,  temp uint b,  temp uint c})
0:25              'o' (layout( row_major std430) readonly buffer block{layout( row_major std430) buffer unsized 1-element array of structure{ temp uint a,  temp uint b,  temp uint c} @data})
0:25              Constant:
0:25                0 (const uint)
0:25            Constant:
0:25              0 (const int)
0:25          Constant:
0:25            0 (const int)
0:25        a: direct index for structure ( temp uint)
0:25          'ms' ( temp structure{ temp uint a,  temp uint b,  temp uint c})
0:25          Constant:
0:25            0 (const int)
0:26      AtomicAdd ( temp uint)
0:26        b: direct index for structure ( temp uint)
0:26          direct index (layout( row_major std430) buffer structure{ temp uint a,  temp uint b,  temp uint c})
0:26            @data: direct index for structure (layout( row_major std430) buffer unsized 1-element array of structure{ temp uint a,  temp uint b,  temp uint c})
0:26              'o' (layout( row_major std430) readonly buffer block{layout( row_major std430) buffer unsized 1-element array of structure{ temp uint a,  temp uint b,  temp uint c} @data})
0:26              Constant:
0:26                0 (const uint)
0:26            Constant:
0:26              0 (const int)
0:26          Constant:
0:26            1 (const int)
0:26        b: direct index for structure ( temp uint)
0:26          'ms' ( temp structure{ temp uint a,  temp uint b,  temp uint c})
0:26          Constant:
0:26            1 (const int)
0:27      AtomicAdd ( temp uint)
0:27        c: direct index for structure ( temp uint)
0:27          direct index (layout( row_major std430) buffer structure{ temp uint a,  temp uint b,  temp uint c})
0:27            @data: direct index for structure (layout( row_major std430) buffer unsized 1-element array of structure{ temp uint a,  temp uint b,  temp uint c})
0:27              'o' (layout( row_major std430) readonly buffer block{layout( row_major std430) buffer unsized 1-element array of structure{ temp uint a,  temp uint b,  temp uint c} @data})
0:27              Constant:
0:27                0 (const uint)
0:27            Constant:
0:27              0 (const int)
0:27          Constant:
0:27            2 (const int)
0:27        c: direct index for structure ( temp uint)
0:27          'ms' ( temp structure{ temp uint a,  temp uint b,  temp uint c})
0:27          Constant:
0:27            2 (const int)
0:20  Function Definition: main( ( temp void)
0:20    Function Parameters: 
0:?     Sequence
0:20      move second child to first child ( temp uint)
0:?         'id' ( temp uint)
0:?         'id' ( in uint LocalInvocationIndex)
0:20      Function Call: @main(u1; ( temp void)
0:?         'id' ( temp uint)
0:?   Linker Objects
0:?     'sb' (layout( row_major std430) readonly buffer block{layout( row_major std430) buffer unsized 1-element array of structure{ temp uint count,  temp unsized 1-element array of structure{ temp uint a,  temp uint b,  temp uint c} data} @data})
0:?     'o' (layout( row_major std430) readonly buffer block{layout( row_major std430) buffer unsized 1-element array of structure{ temp uint a,  temp uint b,  temp uint c} @data})
0:?     's' ( shared 128-element array of structure{ temp uint a,  temp uint b,  temp uint c})
0:?     'deflt' ( const structure{ temp uint a,  temp uint b,  temp uint c})
0:?       1 (const uint)
0:?       2 (const uint)
0:?       3 (const uint)
0:?     'id' ( in uint LocalInvocationIndex)


Linked compute stage:


Shader version: 500
local_size = (128, 1, 1)
0:? Sequence
0:20  Function Definition: @main(u1; ( temp void)
0:20    Function Parameters: 
0:20      'id' ( in uint)
0:?     Sequence
0:21      move second child to first child ( temp structure{ temp uint a,  temp uint b,  temp uint c})
0:21        direct index ( temp structure{ temp uint a,  temp uint b,  temp uint c})
0:21          's' ( shared 128-element array of structure{ temp uint a,  temp uint b,  temp uint c})
0:21          Constant:
0:21            0 (const int)
0:21        Constant:
0:21          1 (const uint)
0:21          2 (const uint)
0:21          3 (const uint)
0:22      Sequence
0:22        move second child to first child ( temp uint)
0:22          'count' ( temp uint)
0:22          count: direct index for structure ( temp uint)
0:22            direct index (layout( row_major std430) buffer structure{ temp uint count,  temp unsized 1-element array of structure{ temp uint a,  temp uint b,  temp uint c} data})
0:22              @data: direct index for structure (layout( row_major std430) buffer unsized 1-element array of structure{ temp uint count,  temp unsized 1-element array of structure{ temp uint a,  temp uint b,  temp uint c} data})
0:22                'sb' (layout( row_major std430) readonly buffer block{layout( row_major std430) buffer unsized 1-element array of structure{ temp uint count,  temp unsized 1-element array of structure{ temp uint a,  temp uint b,  temp uint c} data} @data})
0:22                Constant:
0:22                  0 (const uint)
0:22              Constant:
0:22                0 (const int)
0:22            Constant:
0:22              0 (const int)
0:23      Sequence
0:23        move second child to first child ( temp structure{ temp uint a,  temp uint b,  temp uint c})
0:23          'ms' ( temp structure{ temp uint a,  temp uint b,  temp uint c})
0:23          Test condition and select ( temp structure{ temp uint a,  temp uint b,  temp uint c}): no shortcircuit
0:23            Condition
0:23            Compare Greater Than ( temp bool)
0:23              'id' ( in uint)
0:23              'count' ( temp uint)
0:23            true case
0:23            indirect index ( temp structure{ temp uint a,  temp uint b,  temp uint c})
0:23              's' ( shared 128-element array of structure{ temp uint a,  temp uint b,  temp uint c})
0:23              subtract ( temp uint)
0:23                'id' ( in uint)
0:23                'count' ( temp uint)
0:23            false case
0:23            indirect index ( temp structure{ temp uint a,  temp uint b,  temp uint c})
0:23              data: direct index for structure ( temp unsized 1-element array of structure{ temp uint a,  temp uint b,  temp uint c})
0:23                direct index (layout( row_major std430) buffer structure{ temp uint count,  temp unsized 1-element array of structure{ temp uint a,  temp uint b,  temp uint c} data})
0:23                  @data: direct index for structure (layout( row_major std430) buffer unsized 1-element array of structure{ temp uint count,  temp unsized 1-element array of structure{ temp uint a,  temp uint b,  temp uint c} data})
0:23                    'sb' (layout( row_major std430) readonly buffer block{layout( row_major std430) buffer unsized 1-element array of structure{ temp uint count,  temp unsized 1-element array of structure{ temp uint a,  temp uint b,  temp uint c} data} @data})
0:23                    Constant:
0:23                      0 (const uint)
0:23                  Constant:
0:23                    0 (const int)
0:23                Constant:
0:23                  1 (const int)
0:23              'id' ( in uint)
0:25      AtomicAdd ( temp uint)
0:25        a: direct index for structure ( temp uint)
0:25          direct index (layout( row_major std430) buffer structure{ temp uint a,  temp uint b,  temp uint c})
0:25            @data: direct index for structure (layout( row_major std430) buffer unsized 1-element array of structure{ temp uint a,  temp uint b,  temp uint c})
0:25              'o' (layout( row_major std430) readonly buffer block{layout( row_major std430) buffer unsized 1-element array of structure{ temp uint a,  temp uint b,  temp uint c} @data})
0:25              Constant:
0:25                0 (const uint)
0:25            Constant:
0:25              0 (const int)
0:25          Constant:
0:25            0 (const int)
0:25        a: direct index for structure ( temp uint)
0:25          'ms' ( temp structure{ temp uint a,  temp uint b,  temp uint c})
0:25          Constant:
0:25            0 (const int)
0:26      AtomicAdd ( temp uint)
0:26        b: direct index for structure ( temp uint)
0:26          direct index (layout( row_major std430) buffer structure{ temp uint a,  temp uint b,  temp uint c})
0:26            @data: direct index for structure (layout( row_major std430) buffer unsized 1-element array of structure{ temp uint a,  temp uint b,  temp uint c})
0:26              'o' (layout( row_major std430) readonly buffer block{layout( row_major std430) buffer unsized 1-element array of structure{ temp uint a,  temp uint b,  temp uint c} @data})
0:26              Constant:
0:26                0 (const uint)
0:26            Constant:
0:26              0 (const int)
0:26          Constant:
0:26            1 (const int)
0:26        b: direct index for structure ( temp uint)
0:26          'ms' ( temp structure{ temp uint a,  temp uint b,  temp uint c})
0:26          Constant:
0:26            1 (const int)
0:27      AtomicAdd ( temp uint)
0:27        c: direct index for structure ( temp uint)
0:27          direct index (layout( row_major std430) buffer structure{ temp uint a,  temp uint b,  temp uint c})
0:27            @data: direct index for structure (layout( row_major std430) buffer unsized 1-element array of structure{ temp uint a,  temp uint b,  temp uint c})
0:27              'o' (layout( row_major std430) readonly buffer block{layout( row_major std430) buffer unsized 1-element array of structure{ temp uint a,  temp uint b,  temp uint c} @data})
0:27              Constant:
0:27                0 (const uint)
0:27            Constant:
0:27              0 (const int)
0:27          Constant:
0:27            2 (const int)
0:27        c: direct index for structure ( temp uint)
0:27          'ms' ( temp structure{ temp uint a,  temp uint b,  temp uint c})
0:27          Constant:
0:27            2 (const int)
0:20  Function Definition: main( ( temp void)
0:20    Function Parameters: 
0:?     Sequence
0:20      move second child to first child ( temp uint)
0:?         'id' ( temp uint)
0:?         'id' ( in uint LocalInvocationIndex)
0:20      Function Call: @main(u1; ( temp void)
0:?         'id' ( temp uint)
0:?   Linker Objects
0:?     'sb' (layout( row_major std430) readonly buffer block{layout( row_major std430) buffer unsized 1-element array of structure{ temp uint count,  temp unsized 1-element array of structure{ temp uint a,  temp uint b,  temp uint c} data} @data})
0:?     'o' (layout( row_major std430) readonly buffer block{layout( row_major std430) buffer unsized 1-element array of structure{ temp uint a,  temp uint b,  temp uint c} @data})
0:?     's' ( shared 128-element array of structure{ temp uint a,  temp uint b,  temp uint c})
0:?     'deflt' ( const structure{ temp uint a,  temp uint b,  temp uint c})
0:?       1 (const uint)
0:?       2 (const uint)
0:?       3 (const uint)
0:?     'id' ( in uint LocalInvocationIndex)

// Module Version 10600
// Generated by (magic number): 8000b
// Id's are bound by 79

                              Capability Shader
            11_1:             ExtInstImport  "GLSL.std.450"
                              MemoryModel Logical GLSL450
                              EntryPoint GLCompute 54_1  "main" 59_1 59_2 59_3 59_4
                              ExecutionMode 54_1 LocalSize 128 1 1
                              Source HLSL 500
                              Name 54_1  "main"
                              Name 54_2  "@main(u1;"
                              Name 55_1  "id"
                              Name 30_1  "MyStruct"
                              MemberName 30_1(MyStruct) 0  "a"
                              MemberName 30_1(MyStruct) 1  "b"
                              MemberName 30_1(MyStruct) 2  "c"
                              Name 59_1  "s"
                              Name 59_7  "count"
                              Name 30_2  "MyStruct"
                              MemberName 30_2(MyStruct) 0  "a"
                              MemberName 30_2(MyStruct) 1  "b"
                              MemberName 30_2(MyStruct) 2  "c"
                              Name 30_3  "MyStructs"
                              MemberName 30_3(MyStructs) 0  "count"
                              MemberName 30_3(MyStructs) 1  "data"
                              Name 30_4  "sb"
                              MemberName 30_4(sb) 0  "@data"
                              Name 59_2  "sb"
                              Name 59_8  "ms"
                              Name 30_5  "o"
                              MemberName 30_5(o) 0  "@data"
                              Name 59_3  "o"
                              Name 59_5  "id"
                              Name 59_4  "id"
                              Name 59_6  "param"
                              MemberDecorate 30_2(MyStruct) 0 Offset 0
                              MemberDecorate 30_2(MyStruct) 1 Offset 4
                              MemberDecorate 30_2(MyStruct) 2 Offset 8
                              Decorate 29_1 ArrayStride 12
                              Decorate 30_3(MyStructs) Block
                              MemberDecorate 30_3(MyStructs) 0 Offset 0
                              MemberDecorate 30_3(MyStructs) 1 Offset 4
                              Decorate 29_2 ArrayStride 16
                              Decorate 30_4(sb) Block
                              MemberDecorate 30_4(sb) 0 NonWritable
                              MemberDecorate 30_4(sb) 0 Offset 0
                              Decorate 59_2(sb) Binding 0
                              Decorate 59_2(sb) DescriptorSet 0
                              Decorate 29_3 ArrayStride 12
                              Decorate 30_5(o) Block
                              MemberDecorate 30_5(o) 0 NonWritable
                              MemberDecorate 30_5(o) 0 Offset 0
                              Decorate 59_3(o) Binding 1
                              Decorate 59_3(o) DescriptorSet 0
                              Decorate 59_4(id) BuiltIn LocalInvocationIndex
            19_1:             TypeVoid
            33_1:             TypeFunction 19_1
            21_1:             TypeInt 32 0
            32_1:             TypePointer Function 21_1(int)
            33_2:             TypeFunction 19_1 32_1(ptr)
  30_1(MyStruct):             TypeStruct 21_1(int) 21_1(int) 21_1(int)
       uint(128):   21_1(int) Constant 128
            28_1:             TypeArray 30_1(MyStruct) uint(128)
            32_2:             TypePointer Workgroup 28_1
         59_1(s):   32_2(ptr) Variable Workgroup
            21_2:             TypeInt 32 1
            43_1:   21_2(int) Constant 0
         uint(1):   21_1(int) Constant 1
         uint(2):   21_1(int) Constant 2
         uint(3):   21_1(int) Constant 3
            44_1:30_1(MyStruct) ConstantComposite uint(1) uint(2) uint(3)
            32_3:             TypePointer Workgroup 30_1(MyStruct)
  30_2(MyStruct):             TypeStruct 21_1(int) 21_1(int) 21_1(int)
            29_1:             TypeRuntimeArray 30_2(MyStruct)
 30_3(MyStructs):             TypeStruct 21_1(int) 29_1
            29_2:             TypeRuntimeArray 30_3(MyStructs)
        30_4(sb):             TypeStruct 29_2
            32_4:             TypePointer StorageBuffer 30_4(sb)
        59_2(sb):   32_4(ptr) Variable StorageBuffer
            32_5:             TypePointer StorageBuffer 21_1(int)
            32_6:             TypePointer Function 30_1(MyStruct)
            20_1:             TypeBool
            43_2:   21_2(int) Constant 1
            32_7:             TypePointer StorageBuffer 30_2(MyStruct)
            29_3:             TypeRuntimeArray 30_2(MyStruct)
         30_5(o):             TypeStruct 29_3
            32_8:             TypePointer StorageBuffer 30_5(o)
         59_3(o):   32_8(ptr) Variable StorageBuffer
         uint(0):   21_1(int) Constant 0
            43_3:   21_2(int) Constant 2
            32_9:             TypePointer Input 21_1(int)
        59_4(id):   32_9(ptr) Variable Input
      54_1(main):        19_1 Function None 33_1
           248_1:             Label
        59_5(id):   32_1(ptr) Variable Function
     59_6(param):   32_1(ptr) Variable Function
            61_1:   21_1(int) Load 59_4(id)
                              Store 59_5(id) 61_1
            61_2:   21_1(int) Load 59_5(id)
                              Store 59_6(param) 61_2
            57_1:        19_1 FunctionCall 54_2(@main(u1;) 59_6(param)
                              Return
                              FunctionEnd
 54_2(@main(u1;):        19_1 Function None 33_2
        55_1(id):   32_1(ptr) FunctionParameter
           248_2:             Label
     59_7(count):   32_1(ptr) Variable Function
        59_8(ms):   32_6(ptr) Variable Function
            65_1:   32_3(ptr) AccessChain 59_1(s) 43_1
                              Store 65_1 44_1
            65_2:   32_5(ptr) AccessChain 59_2(sb) 43_1 43_1 43_1
            61_3:   21_1(int) Load 65_2
                              Store 59_7(count) 61_3
            61_4:   21_1(int) Load 55_1(id)
            61_5:   21_1(int) Load 59_7(count)
           172_1:  20_1(bool) UGreaterThan 61_4 61_5
            61_6:   21_1(int) Load 55_1(id)
            61_7:   21_1(int) Load 59_7(count)
           130_1:   21_1(int) ISub 61_6 61_7
            65_3:   32_3(ptr) AccessChain 59_1(s) 130_1
            61_8:30_1(MyStruct) Load 65_3
            61_9:   21_1(int) Load 55_1(id)
            65_4:   32_7(ptr) AccessChain 59_2(sb) 43_1 43_1 43_2 61_9
           61_10:30_2(MyStruct) Load 65_4
           400_1:30_1(MyStruct) CopyLogical 61_10
           169_1:30_1(MyStruct) Select 172_1 61_8 400_1
                              Store 59_8(ms) 169_1
            65_5:   32_5(ptr) AccessChain 59_3(o) 43_1 43_1 43_1
            65_6:   32_1(ptr) AccessChain 59_8(ms) 43_1
           61_11:   21_1(int) Load 65_6
           234_1:   21_1(int) AtomicIAdd 65_5 uint(1) uint(0) 61_11
            65_7:   32_5(ptr) AccessChain 59_3(o) 43_1 43_1 43_2
            65_8:   32_1(ptr) AccessChain 59_8(ms) 43_2
           61_12:   21_1(int) Load 65_8
           234_2:   21_1(int) AtomicIAdd 65_7 uint(1) uint(0) 61_12
            65_9:   32_5(ptr) AccessChain 59_3(o) 43_1 43_1 43_3
           65_10:   32_1(ptr) AccessChain 59_8(ms) 43_3
           61_13:   21_1(int) Load 65_10
           234_3:   21_1(int) AtomicIAdd 65_9 uint(1) uint(0) 61_13
                              Return
                              FunctionEnd
