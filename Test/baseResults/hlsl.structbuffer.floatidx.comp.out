hlsl.structbuffer.floatidx.comp
Shader version: 500
local_size = (1, 1, 1)
0:? Sequence
0:13  Function Definition: @main(vu3; ( temp void)
0:13    Function Parameters: 
0:13      'nThreadId' ( in 3-component vector of uint)
0:?     Sequence
0:14      Sequence
0:14        move second child to first child ( temp structure{ temp 4-component vector of float color,  temp 2-component vector of uint threadId})
0:14          'data' ( temp structure{ temp 4-component vector of float color,  temp 2-component vector of uint threadId})
0:14          indirect index (layout( row_major std430) buffer structure{ temp 4-component vector of float color,  temp 2-component vector of uint threadId})
0:14            @data: direct index for structure (layout( row_major std430) buffer unsized 1-element array of structure{ temp 4-component vector of float color,  temp 2-component vector of uint threadId})
0:14              'csb' (layout( binding=1 row_major std430) buffer block{layout( row_major std430) buffer unsized 1-element array of structure{ temp 4-component vector of float color,  temp 2-component vector of uint threadId} @data})
0:14              Constant:
0:14                0 (const uint)
0:14            add ( temp uint)
0:14              AtomicAdd ( temp uint)
0:14                @count: direct index for structure ( temp uint)
0:14                  'csb@count' (layout( row_major std430) buffer block{layout( row_major std430) buffer uint @count})
0:14                  Constant:
0:14                    0 (const int)
0:14                Constant:
0:14                  4294967295 (const uint)
0:14              Constant:
0:14                -1 (const int)
0:15      Sequence
0:15        move second child to first child ( temp 2-component vector of float)
0:15          'coord' ( temp 2-component vector of float)
0:15          Convert uint to float ( temp 2-component vector of float)
0:15            vector swizzle ( temp 2-component vector of uint)
0:15              threadId: direct index for structure ( temp 2-component vector of uint)
0:15                'data' ( temp structure{ temp 4-component vector of float color,  temp 2-component vector of uint threadId})
0:15                Constant:
0:15                  1 (const int)
0:15              Sequence
0:15                Constant:
0:15                  0 (const int)
0:15                Constant:
0:15                  1 (const int)
0:16      Sequence
0:16        move second child to first child ( temp 4-component vector of float)
0:16          'storeTemp' ( temp 4-component vector of float)
0:16          color: direct index for structure ( temp 4-component vector of float)
0:16            'data' ( temp structure{ temp 4-component vector of float color,  temp 2-component vector of uint threadId})
0:16            Constant:
0:16              0 (const int)
0:16        imageStore ( temp void)
0:16          'outtx' (layout( rgba32f) uniform image2D)
0:16          Convert float to uint ( temp 2-component vector of uint)
0:16            'coord' ( temp 2-component vector of float)
0:16          'storeTemp' ( temp 4-component vector of float)
0:16        'storeTemp' ( temp 4-component vector of float)
0:18      move second child to first child ( temp 4-component vector of float)
0:18        indirect index (layout( row_major std430) buffer 4-component vector of float)
0:18          @data: direct index for structure (layout( row_major std430) buffer unsized 1-element array of 4-component vector of float)
0:18            'rwsb' (layout( row_major std430) buffer block{layout( row_major std430) buffer unsized 1-element array of 4-component vector of float @data})
0:18            Constant:
0:18              0 (const uint)
0:18          Convert float to uint ( temp uint)
0:18            direct index ( temp float)
0:18              'coord' ( temp 2-component vector of float)
0:18              Constant:
0:18                0 (const int)
0:18        indirect index (layout( row_major std430) buffer 4-component vector of float)
0:18          @data: direct index for structure (layout( row_major std430) buffer unsized 1-element array of 4-component vector of float)
0:18            'rwsb' (layout( row_major std430) buffer block{layout( row_major std430) buffer unsized 1-element array of 4-component vector of float @data})
0:18            Constant:
0:18              0 (const uint)
0:18          Convert float to uint ( temp uint)
0:18            direct index ( temp float)
0:18              'coord' ( temp 2-component vector of float)
0:18              Constant:
0:18                1 (const int)
0:13  Function Definition: main( ( temp void)
0:13    Function Parameters: 
0:?     Sequence
0:13      move second child to first child ( temp 3-component vector of uint)
0:?         'nThreadId' ( temp 3-component vector of uint)
0:?         'nThreadId' ( in 3-component vector of uint GlobalInvocationID)
0:13      Function Call: @main(vu3; ( temp void)
0:?         'nThreadId' ( temp 3-component vector of uint)
0:?   Linker Objects
0:?     'outtx' (layout( rgba32f) uniform image2D)
0:?     'csb' (layout( binding=1 row_major std430) buffer block{layout( row_major std430) buffer unsized 1-element array of structure{ temp 4-component vector of float color,  temp 2-component vector of uint threadId} @data})
0:?     'csb@count' (layout( row_major std430) buffer block{layout( row_major std430) buffer uint @count})
0:?     'rwsb' (layout( row_major std430) buffer block{layout( row_major std430) buffer unsized 1-element array of 4-component vector of float @data})
0:?     'nThreadId' ( in 3-component vector of uint GlobalInvocationID)


Linked compute stage:


Shader version: 500
local_size = (1, 1, 1)
0:? Sequence
0:13  Function Definition: @main(vu3; ( temp void)
0:13    Function Parameters: 
0:13      'nThreadId' ( in 3-component vector of uint)
0:?     Sequence
0:14      Sequence
0:14        move second child to first child ( temp structure{ temp 4-component vector of float color,  temp 2-component vector of uint threadId})
0:14          'data' ( temp structure{ temp 4-component vector of float color,  temp 2-component vector of uint threadId})
0:14          indirect index (layout( row_major std430) buffer structure{ temp 4-component vector of float color,  temp 2-component vector of uint threadId})
0:14            @data: direct index for structure (layout( row_major std430) buffer unsized 1-element array of structure{ temp 4-component vector of float color,  temp 2-component vector of uint threadId})
0:14              'csb' (layout( binding=1 row_major std430) buffer block{layout( row_major std430) buffer unsized 1-element array of structure{ temp 4-component vector of float color,  temp 2-component vector of uint threadId} @data})
0:14              Constant:
0:14                0 (const uint)
0:14            add ( temp uint)
0:14              AtomicAdd ( temp uint)
0:14                @count: direct index for structure ( temp uint)
0:14                  'csb@count' (layout( row_major std430) buffer block{layout( row_major std430) buffer uint @count})
0:14                  Constant:
0:14                    0 (const int)
0:14                Constant:
0:14                  4294967295 (const uint)
0:14              Constant:
0:14                -1 (const int)
0:15      Sequence
0:15        move second child to first child ( temp 2-component vector of float)
0:15          'coord' ( temp 2-component vector of float)
0:15          Convert uint to float ( temp 2-component vector of float)
0:15            vector swizzle ( temp 2-component vector of uint)
0:15              threadId: direct index for structure ( temp 2-component vector of uint)
0:15                'data' ( temp structure{ temp 4-component vector of float color,  temp 2-component vector of uint threadId})
0:15                Constant:
0:15                  1 (const int)
0:15              Sequence
0:15                Constant:
0:15                  0 (const int)
0:15                Constant:
0:15                  1 (const int)
0:16      Sequence
0:16        move second child to first child ( temp 4-component vector of float)
0:16          'storeTemp' ( temp 4-component vector of float)
0:16          color: direct index for structure ( temp 4-component vector of float)
0:16            'data' ( temp structure{ temp 4-component vector of float color,  temp 2-component vector of uint threadId})
0:16            Constant:
0:16              0 (const int)
0:16        imageStore ( temp void)
0:16          'outtx' (layout( rgba32f) uniform image2D)
0:16          Convert float to uint ( temp 2-component vector of uint)
0:16            'coord' ( temp 2-component vector of float)
0:16          'storeTemp' ( temp 4-component vector of float)
0:16        'storeTemp' ( temp 4-component vector of float)
0:18      move second child to first child ( temp 4-component vector of float)
0:18        indirect index (layout( row_major std430) buffer 4-component vector of float)
0:18          @data: direct index for structure (layout( row_major std430) buffer unsized 1-element array of 4-component vector of float)
0:18            'rwsb' (layout( row_major std430) buffer block{layout( row_major std430) buffer unsized 1-element array of 4-component vector of float @data})
0:18            Constant:
0:18              0 (const uint)
0:18          Convert float to uint ( temp uint)
0:18            direct index ( temp float)
0:18              'coord' ( temp 2-component vector of float)
0:18              Constant:
0:18                0 (const int)
0:18        indirect index (layout( row_major std430) buffer 4-component vector of float)
0:18          @data: direct index for structure (layout( row_major std430) buffer unsized 1-element array of 4-component vector of float)
0:18            'rwsb' (layout( row_major std430) buffer block{layout( row_major std430) buffer unsized 1-element array of 4-component vector of float @data})
0:18            Constant:
0:18              0 (const uint)
0:18          Convert float to uint ( temp uint)
0:18            direct index ( temp float)
0:18              'coord' ( temp 2-component vector of float)
0:18              Constant:
0:18                1 (const int)
0:13  Function Definition: main( ( temp void)
0:13    Function Parameters: 
0:?     Sequence
0:13      move second child to first child ( temp 3-component vector of uint)
0:?         'nThreadId' ( temp 3-component vector of uint)
0:?         'nThreadId' ( in 3-component vector of uint GlobalInvocationID)
0:13      Function Call: @main(vu3; ( temp void)
0:?         'nThreadId' ( temp 3-component vector of uint)
0:?   Linker Objects
0:?     'outtx' (layout( rgba32f) uniform image2D)
0:?     'csb' (layout( binding=1 row_major std430) buffer block{layout( row_major std430) buffer unsized 1-element array of structure{ temp 4-component vector of float color,  temp 2-component vector of uint threadId} @data})
0:?     'csb@count' (layout( row_major std430) buffer block{layout( row_major std430) buffer uint @count})
0:?     'rwsb' (layout( row_major std430) buffer block{layout( row_major std430) buffer unsized 1-element array of 4-component vector of float @data})
0:?     'nThreadId' ( in 3-component vector of uint GlobalInvocationID)

// Module Version 10000
// Generated by (magic number): 8000b
// Id's are bound by 85

                              Capability Shader
            11_1:             ExtInstImport  "GLSL.std.450"
                              MemoryModel Logical GLSL450
                              EntryPoint GLCompute 54_1  "main" 59_5
                              ExecutionMode 54_1 LocalSize 1 1 1
                              Source HLSL 500
                              Name 54_1  "main"
                              Name 54_2  "@main(vu3;"
                              Name 55_1  "nThreadId"
                              Name 30_1  "sb_t"
                              MemberName 30_1(sb_t) 0  "color"
                              MemberName 30_1(sb_t) 1  "threadId"
                              Name 59_8  "data"
                              Name 30_2  "sb_t"
                              MemberName 30_2(sb_t) 0  "color"
                              MemberName 30_2(sb_t) 1  "threadId"
                              Name 30_3  "csb"
                              MemberName 30_3(csb) 0  "@data"
                              Name 59_1  "csb"
                              Name 30_4  "csb@count"
                              MemberName 30_4(csb@count) 0  "@count"
                              Name 59_2  "csb@count"
                              Name 59_9  "coord"
                              Name 59_10  "storeTemp"
                              Name 59_3  "outtx"
                              Name 30_5  "rwsb"
                              MemberName 30_5(rwsb) 0  "@data"
                              Name 59_4  "rwsb"
                              Name 59_6  "nThreadId"
                              Name 59_5  "nThreadId"
                              Name 59_7  "param"
                              MemberDecorate 30_2(sb_t) 0 Offset 0
                              MemberDecorate 30_2(sb_t) 1 Offset 16
                              Decorate 29_1 ArrayStride 32
                              Decorate 30_3(csb) BufferBlock
                              MemberDecorate 30_3(csb) 0 Offset 0
                              Decorate 59_1(csb) Binding 1
                              Decorate 59_1(csb) DescriptorSet 0
                              Decorate 30_4(csb@count) BufferBlock
                              MemberDecorate 30_4(csb@count) 0 Offset 0
                              Decorate 59_2(csb@count) Binding 2
                              Decorate 59_2(csb@count) DescriptorSet 0
                              Decorate 59_3(outtx) Binding 0
                              Decorate 59_3(outtx) DescriptorSet 0
                              Decorate 29_2 ArrayStride 16
                              Decorate 30_5(rwsb) BufferBlock
                              MemberDecorate 30_5(rwsb) 0 Offset 0
                              Decorate 59_4(rwsb) Binding 3
                              Decorate 59_4(rwsb) DescriptorSet 0
                              Decorate 59_5(nThreadId) BuiltIn GlobalInvocationId
            19_1:             TypeVoid
            33_1:             TypeFunction 19_1
            21_1:             TypeInt 32 0
            23_1:             TypeVector 21_1(int) 3
            32_1:             TypePointer Function 23_1(ivec3)
            33_2:             TypeFunction 19_1 32_1(ptr)
            22_1:             TypeFloat 32
            23_2:             TypeVector 22_1(float) 4
            23_3:             TypeVector 21_1(int) 2
      30_1(sb_t):             TypeStruct 23_2(fvec4) 23_3(ivec2)
            32_2:             TypePointer Function 30_1(sb_t)
      30_2(sb_t):             TypeStruct 23_2(fvec4) 23_3(ivec2)
            29_1:             TypeRuntimeArray 30_2(sb_t)
       30_3(csb):             TypeStruct 29_1
            32_3:             TypePointer Uniform 30_3(csb)
       59_1(csb):   32_3(ptr) Variable Uniform
            21_2:             TypeInt 32 1
            43_1:   21_2(int) Constant 0
 30_4(csb@count):             TypeStruct 21_1(int)
            32_4:             TypePointer Uniform 30_4(csb@count)
 59_2(csb@count):   32_4(ptr) Variable Uniform
            32_5:             TypePointer Uniform 21_1(int)
uint(4294967295):   21_1(int) Constant 4294967295
         uint(1):   21_1(int) Constant 1
         uint(0):   21_1(int) Constant 0
            43_2:   21_2(int) Constant 4294967295
            32_6:             TypePointer Uniform 30_2(sb_t)
            32_7:             TypePointer Function 23_2(fvec4)
            43_3:   21_2(int) Constant 1
            32_8:             TypePointer Function 23_3(ivec2)
            23_4:             TypeVector 22_1(float) 2
            32_9:             TypePointer Function 23_4(fvec2)
            25_1:             TypeImage 22_1(float) 2D nonsampled format:Rgba32f
           32_10:             TypePointer UniformConstant 25_1
     59_3(outtx):  32_10(ptr) Variable UniformConstant
            29_2:             TypeRuntimeArray 23_2(fvec4)
      30_5(rwsb):             TypeStruct 29_2
           32_11:             TypePointer Uniform 30_5(rwsb)
      59_4(rwsb):  32_11(ptr) Variable Uniform
           32_12:             TypePointer Function 22_1(float)
           32_13:             TypePointer Uniform 23_2(fvec4)
           32_14:             TypePointer Input 23_1(ivec3)
 59_5(nThreadId):  32_14(ptr) Variable Input
      54_1(main):        19_1 Function None 33_1
           248_1:             Label
 59_6(nThreadId):   32_1(ptr) Variable Function
     59_7(param):   32_1(ptr) Variable Function
            61_1: 23_1(ivec3) Load 59_5(nThreadId)
                              Store 59_6(nThreadId) 61_1
            61_2: 23_1(ivec3) Load 59_6(nThreadId)
                              Store 59_7(param) 61_2
            57_1:        19_1 FunctionCall 54_2(@main(vu3;) 59_7(param)
                              Return
                              FunctionEnd
54_2(@main(vu3;):        19_1 Function None 33_2
 55_1(nThreadId):   32_1(ptr) FunctionParameter
           248_2:             Label
      59_8(data):   32_2(ptr) Variable Function
     59_9(coord):   32_9(ptr) Variable Function
59_10(storeTemp):   32_7(ptr) Variable Function
            65_1:   32_5(ptr) AccessChain 59_2(csb@count) 43_1
           234_1:   21_1(int) AtomicIAdd 65_1 uint(1) uint(0) uint(4294967295)
           128_1:   21_1(int) IAdd 234_1 43_2
            65_2:   32_6(ptr) AccessChain 59_1(csb) 43_1 128_1
            61_3:  30_2(sb_t) Load 65_2
            81_1: 23_2(fvec4) CompositeExtract 61_3 0
            65_3:   32_7(ptr) AccessChain 59_8(data) 43_1
                              Store 65_3 81_1
            81_2: 23_3(ivec2) CompositeExtract 61_3 1
            65_4:   32_8(ptr) AccessChain 59_8(data) 43_3
                              Store 65_4 81_2
            65_5:   32_8(ptr) AccessChain 59_8(data) 43_3
            61_4: 23_3(ivec2) Load 65_5
           112_1: 23_4(fvec2) ConvertUToF 61_4
                              Store 59_9(coord) 112_1
            65_6:   32_7(ptr) AccessChain 59_8(data) 43_1
            61_5: 23_2(fvec4) Load 65_6
                              Store 59_10(storeTemp) 61_5
            61_6:        25_1 Load 59_3(outtx)
            61_7: 23_4(fvec2) Load 59_9(coord)
           109_1: 23_3(ivec2) ConvertFToU 61_7
            61_8: 23_2(fvec4) Load 59_10(storeTemp)
                              ImageWrite 61_6 109_1 61_8
            65_7:  32_12(ptr) AccessChain 59_9(coord) uint(0)
            61_9: 22_1(float) Load 65_7
           109_2:   21_1(int) ConvertFToU 61_9
            65_8:  32_12(ptr) AccessChain 59_9(coord) uint(1)
           61_10: 22_1(float) Load 65_8
           109_3:   21_1(int) ConvertFToU 61_10
            65_9:  32_13(ptr) AccessChain 59_4(rwsb) 43_1 109_3
           61_11: 23_2(fvec4) Load 65_9
           65_10:  32_13(ptr) AccessChain 59_4(rwsb) 43_1 109_2
                              Store 65_10 61_11
                              Return
                              FunctionEnd
