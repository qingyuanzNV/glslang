hlsl.buffer_ref_parameter.comp
Shader version: 500
local_size = (64, 1, 1)
0:? Sequence
0:4  Function Definition: pull_position(block--u1[0]1;u1; ( temp 3-component vector of float)
0:4    Function Parameters: 
0:4      'buffer_position' (layout( row_major std430) readonly buffer block{layout( row_major std430) buffer unsized 1-element array of uint @data})
0:4      'vertex_id' ( in uint)
0:?     Sequence
0:5      Branch: Return with expression
0:?         intBitsToFloat ( temp 3-component vector of float)
0:?           Sequence
0:5            move second child to first child ( temp int)
0:5              'byteAddrTemp' ( temp int)
0:5              right-shift ( temp int)
0:5                component-wise multiply ( temp uint)
0:5                  component-wise multiply ( temp uint)
0:5                    'vertex_id' ( in uint)
0:5                    Constant:
0:5                      3 (const uint)
0:5                  Constant:
0:5                    4 (const uint)
0:5                Constant:
0:5                  2 (const int)
0:?             Construct vec3 ( temp 3-component vector of uint)
0:5              indirect index ( temp uint)
0:5                @data: direct index for structure (layout( row_major std430) buffer unsized 1-element array of uint)
0:5                  'buffer_position' (layout( row_major std430) readonly buffer block{layout( row_major std430) buffer unsized 1-element array of uint @data})
0:5                  Constant:
0:5                    0 (const uint)
0:5                'byteAddrTemp' ( temp int)
0:5              indirect index ( temp uint)
0:5                @data: direct index for structure (layout( row_major std430) buffer unsized 1-element array of uint)
0:5                  'buffer_position' (layout( row_major std430) readonly buffer block{layout( row_major std430) buffer unsized 1-element array of uint @data})
0:5                  Constant:
0:5                    0 (const uint)
0:5                add ( temp int)
0:5                  'byteAddrTemp' ( temp int)
0:5                  Constant:
0:5                    1 (const int)
0:5              indirect index ( temp uint)
0:5                @data: direct index for structure (layout( row_major std430) buffer unsized 1-element array of uint)
0:5                  'buffer_position' (layout( row_major std430) readonly buffer block{layout( row_major std430) buffer unsized 1-element array of uint @data})
0:5                  Constant:
0:5                    0 (const uint)
0:5                add ( temp int)
0:5                  'byteAddrTemp' ( temp int)
0:5                  Constant:
0:5                    2 (const int)
0:9  Function Definition: @main(u1; ( temp void)
0:9    Function Parameters: 
0:9      'gi' ( in uint)
0:?     Sequence
0:10      Sequence
0:10        move second child to first child ( temp 3-component vector of float)
0:10          'position_ms' ( temp 3-component vector of float)
0:10          Function Call: pull_position(block--u1[0]1;u1; ( temp 3-component vector of float)
0:10            'buffer_position_ms' (layout( set=0 binding=0 row_major std430) readonly buffer block{layout( row_major std430) buffer unsized 1-element array of uint @data})
0:10            'gi' ( in uint)
0:?       Sequence
0:12        move second child to first child ( temp int)
0:12          'byteAddrTemp' ( temp int)
0:12          right-shift ( temp int)
0:12            Constant:
0:12              0 (const int)
0:12            Constant:
0:12              2 (const int)
0:12        move second child to first child ( temp uint)
0:12          indirect index (layout( row_major std430) buffer uint)
0:12            @data: direct index for structure (layout( row_major std430) buffer unsized 1-element array of uint)
0:12              'r' (layout( set=0 binding=1 row_major std430) buffer block{layout( row_major std430) buffer unsized 1-element array of uint @data})
0:12              Constant:
0:12                0 (const uint)
0:12            'byteAddrTemp' ( temp int)
0:12          direct index ( temp uint)
0:12            floatBitsToUint ( temp 3-component vector of uint)
0:12              'position_ms' ( temp 3-component vector of float)
0:12            Constant:
0:12              0 (const int)
0:12        move second child to first child ( temp uint)
0:12          indirect index (layout( row_major std430) buffer uint)
0:12            @data: direct index for structure (layout( row_major std430) buffer unsized 1-element array of uint)
0:12              'r' (layout( set=0 binding=1 row_major std430) buffer block{layout( row_major std430) buffer unsized 1-element array of uint @data})
0:12              Constant:
0:12                0 (const uint)
0:12            add ( temp int)
0:12              'byteAddrTemp' ( temp int)
0:12              Constant:
0:12                1 (const int)
0:12          direct index ( temp uint)
0:12            floatBitsToUint ( temp 3-component vector of uint)
0:12              'position_ms' ( temp 3-component vector of float)
0:12            Constant:
0:12              1 (const int)
0:12        move second child to first child ( temp uint)
0:12          indirect index (layout( row_major std430) buffer uint)
0:12            @data: direct index for structure (layout( row_major std430) buffer unsized 1-element array of uint)
0:12              'r' (layout( set=0 binding=1 row_major std430) buffer block{layout( row_major std430) buffer unsized 1-element array of uint @data})
0:12              Constant:
0:12                0 (const uint)
0:12            add ( temp int)
0:12              'byteAddrTemp' ( temp int)
0:12              Constant:
0:12                2 (const int)
0:12          direct index ( temp uint)
0:12            floatBitsToUint ( temp 3-component vector of uint)
0:12              'position_ms' ( temp 3-component vector of float)
0:12            Constant:
0:12              2 (const int)
0:9  Function Definition: main( ( temp void)
0:9    Function Parameters: 
0:?     Sequence
0:9      move second child to first child ( temp uint)
0:?         'gi' ( temp uint)
0:?         'gi' ( in uint LocalInvocationIndex)
0:9      Function Call: @main(u1; ( temp void)
0:?         'gi' ( temp uint)
0:?   Linker Objects
0:?     'buffer_position_ms' (layout( set=0 binding=0 row_major std430) readonly buffer block{layout( row_major std430) buffer unsized 1-element array of uint @data})
0:?     'r' (layout( set=0 binding=1 row_major std430) buffer block{layout( row_major std430) buffer unsized 1-element array of uint @data})
0:?     'gi' ( in uint LocalInvocationIndex)


Linked compute stage:


Shader version: 500
local_size = (64, 1, 1)
0:? Sequence
0:4  Function Definition: pull_position(block--u1[0]1;u1; ( temp 3-component vector of float)
0:4    Function Parameters: 
0:4      'buffer_position' (layout( row_major std430) readonly buffer block{layout( row_major std430) buffer unsized 1-element array of uint @data})
0:4      'vertex_id' ( in uint)
0:?     Sequence
0:5      Branch: Return with expression
0:?         intBitsToFloat ( temp 3-component vector of float)
0:?           Sequence
0:5            move second child to first child ( temp int)
0:5              'byteAddrTemp' ( temp int)
0:5              right-shift ( temp int)
0:5                component-wise multiply ( temp uint)
0:5                  component-wise multiply ( temp uint)
0:5                    'vertex_id' ( in uint)
0:5                    Constant:
0:5                      3 (const uint)
0:5                  Constant:
0:5                    4 (const uint)
0:5                Constant:
0:5                  2 (const int)
0:?             Construct vec3 ( temp 3-component vector of uint)
0:5              indirect index ( temp uint)
0:5                @data: direct index for structure (layout( row_major std430) buffer unsized 1-element array of uint)
0:5                  'buffer_position' (layout( row_major std430) readonly buffer block{layout( row_major std430) buffer unsized 1-element array of uint @data})
0:5                  Constant:
0:5                    0 (const uint)
0:5                'byteAddrTemp' ( temp int)
0:5              indirect index ( temp uint)
0:5                @data: direct index for structure (layout( row_major std430) buffer unsized 1-element array of uint)
0:5                  'buffer_position' (layout( row_major std430) readonly buffer block{layout( row_major std430) buffer unsized 1-element array of uint @data})
0:5                  Constant:
0:5                    0 (const uint)
0:5                add ( temp int)
0:5                  'byteAddrTemp' ( temp int)
0:5                  Constant:
0:5                    1 (const int)
0:5              indirect index ( temp uint)
0:5                @data: direct index for structure (layout( row_major std430) buffer unsized 1-element array of uint)
0:5                  'buffer_position' (layout( row_major std430) readonly buffer block{layout( row_major std430) buffer unsized 1-element array of uint @data})
0:5                  Constant:
0:5                    0 (const uint)
0:5                add ( temp int)
0:5                  'byteAddrTemp' ( temp int)
0:5                  Constant:
0:5                    2 (const int)
0:9  Function Definition: @main(u1; ( temp void)
0:9    Function Parameters: 
0:9      'gi' ( in uint)
0:?     Sequence
0:10      Sequence
0:10        move second child to first child ( temp 3-component vector of float)
0:10          'position_ms' ( temp 3-component vector of float)
0:10          Function Call: pull_position(block--u1[0]1;u1; ( temp 3-component vector of float)
0:10            'buffer_position_ms' (layout( set=0 binding=0 row_major std430) readonly buffer block{layout( row_major std430) buffer unsized 1-element array of uint @data})
0:10            'gi' ( in uint)
0:?       Sequence
0:12        move second child to first child ( temp int)
0:12          'byteAddrTemp' ( temp int)
0:12          right-shift ( temp int)
0:12            Constant:
0:12              0 (const int)
0:12            Constant:
0:12              2 (const int)
0:12        move second child to first child ( temp uint)
0:12          indirect index (layout( row_major std430) buffer uint)
0:12            @data: direct index for structure (layout( row_major std430) buffer unsized 1-element array of uint)
0:12              'r' (layout( set=0 binding=1 row_major std430) buffer block{layout( row_major std430) buffer unsized 1-element array of uint @data})
0:12              Constant:
0:12                0 (const uint)
0:12            'byteAddrTemp' ( temp int)
0:12          direct index ( temp uint)
0:12            floatBitsToUint ( temp 3-component vector of uint)
0:12              'position_ms' ( temp 3-component vector of float)
0:12            Constant:
0:12              0 (const int)
0:12        move second child to first child ( temp uint)
0:12          indirect index (layout( row_major std430) buffer uint)
0:12            @data: direct index for structure (layout( row_major std430) buffer unsized 1-element array of uint)
0:12              'r' (layout( set=0 binding=1 row_major std430) buffer block{layout( row_major std430) buffer unsized 1-element array of uint @data})
0:12              Constant:
0:12                0 (const uint)
0:12            add ( temp int)
0:12              'byteAddrTemp' ( temp int)
0:12              Constant:
0:12                1 (const int)
0:12          direct index ( temp uint)
0:12            floatBitsToUint ( temp 3-component vector of uint)
0:12              'position_ms' ( temp 3-component vector of float)
0:12            Constant:
0:12              1 (const int)
0:12        move second child to first child ( temp uint)
0:12          indirect index (layout( row_major std430) buffer uint)
0:12            @data: direct index for structure (layout( row_major std430) buffer unsized 1-element array of uint)
0:12              'r' (layout( set=0 binding=1 row_major std430) buffer block{layout( row_major std430) buffer unsized 1-element array of uint @data})
0:12              Constant:
0:12                0 (const uint)
0:12            add ( temp int)
0:12              'byteAddrTemp' ( temp int)
0:12              Constant:
0:12                2 (const int)
0:12          direct index ( temp uint)
0:12            floatBitsToUint ( temp 3-component vector of uint)
0:12              'position_ms' ( temp 3-component vector of float)
0:12            Constant:
0:12              2 (const int)
0:9  Function Definition: main( ( temp void)
0:9    Function Parameters: 
0:?     Sequence
0:9      move second child to first child ( temp uint)
0:?         'gi' ( temp uint)
0:?         'gi' ( in uint LocalInvocationIndex)
0:9      Function Call: @main(u1; ( temp void)
0:?         'gi' ( temp uint)
0:?   Linker Objects
0:?     'buffer_position_ms' (layout( set=0 binding=0 row_major std430) readonly buffer block{layout( row_major std430) buffer unsized 1-element array of uint @data})
0:?     'r' (layout( set=0 binding=1 row_major std430) buffer block{layout( row_major std430) buffer unsized 1-element array of uint @data})
0:?     'gi' ( in uint LocalInvocationIndex)

// Module Version 10400
// Generated by (magic number): 8000b
// Id's are bound by 90

                              Capability Shader
            11_1:             ExtInstImport  "GLSL.std.450"
                              MemoryModel Logical GLSL450
                              EntryPoint GLCompute 54_1  "main" 59_1 59_2 59_3
                              ExecutionMode 54_1 LocalSize 64 1 1
                              Source HLSL 500
                              Name 54_1  "main"
                              Name 30_1  ""
                              MemberName 30_1 0  "@data"
                              Name 54_2  "pull_position(block--u1[0]1;u1;"
                              Name 55_1  "buffer_position"
                              Name 55_2  "vertex_id"
                              Name 54_3  "@main(u1;"
                              Name 55_3  "gi"
                              Name 59_6  "byteAddrTemp"
                              Name 59_7  "position_ms"
                              Name 59_1  "buffer_position_ms"
                              Name 59_8  "param"
                              Name 59_9  "byteAddrTemp"
                              Name 30_2  "r"
                              MemberName 30_2(r) 0  "@data"
                              Name 59_2  "r"
                              Name 59_4  "gi"
                              Name 59_3  "gi"
                              Name 59_5  "param"
                              Decorate 29_1 ArrayStride 4
                              Decorate 30_1 Block
                              MemberDecorate 30_1 0 NonWritable
                              MemberDecorate 30_1 0 Offset 0
                              Decorate 55_1(buffer_position) NonWritable
                              Decorate 59_1(buffer_position_ms) Binding 0
                              Decorate 59_1(buffer_position_ms) DescriptorSet 0
                              Decorate 29_2 ArrayStride 4
                              Decorate 30_2(r) Block
                              MemberDecorate 30_2(r) 0 Offset 0
                              Decorate 59_2(r) Binding 1
                              Decorate 59_2(r) DescriptorSet 0
                              Decorate 59_3(gi) BuiltIn LocalInvocationIndex
            19_1:             TypeVoid
            33_1:             TypeFunction 19_1
            21_1:             TypeInt 32 0
            29_1:             TypeRuntimeArray 21_1(int)
            30_1:             TypeStruct 29_1
            32_1:             TypePointer StorageBuffer 30_1(struct)
            32_2:             TypePointer Function 21_1(int)
            22_1:             TypeFloat 32
            23_1:             TypeVector 22_1(float) 3
            33_2:             TypeFunction 23_1(fvec3) 32_1(ptr) 32_2(ptr)
            33_3:             TypeFunction 19_1 32_2(ptr)
            21_2:             TypeInt 32 1
            32_3:             TypePointer Function 21_2(int)
         uint(3):   21_1(int) Constant 3
         uint(4):   21_1(int) Constant 4
            43_1:   21_2(int) Constant 2
            43_2:   21_2(int) Constant 0
            32_4:             TypePointer StorageBuffer 21_1(int)
            43_3:   21_2(int) Constant 1
            23_2:             TypeVector 21_1(int) 3
            32_5:             TypePointer Function 23_1(fvec3)
59_1(buffer_position_ms):   32_1(ptr) Variable StorageBuffer
            29_2:             TypeRuntimeArray 21_1(int)
         30_2(r):             TypeStruct 29_2
            32_6:             TypePointer StorageBuffer 30_2(r)
         59_2(r):   32_6(ptr) Variable StorageBuffer
         uint(0):   21_1(int) Constant 0
         uint(1):   21_1(int) Constant 1
         uint(2):   21_1(int) Constant 2
            32_7:             TypePointer Input 21_1(int)
        59_3(gi):   32_7(ptr) Variable Input
      54_1(main):        19_1 Function None 33_1
           248_1:             Label
        59_4(gi):   32_2(ptr) Variable Function
     59_5(param):   32_2(ptr) Variable Function
            61_1:   21_1(int) Load 59_3(gi)
                              Store 59_4(gi) 61_1
            61_2:   21_1(int) Load 59_4(gi)
                              Store 59_5(param) 61_2
            57_1:        19_1 FunctionCall 54_3(@main(u1;) 59_5(param)
                              Return
                              FunctionEnd
54_2(pull_position(block--u1[0]1;u1;): 23_1(fvec3) Function None 33_2
55_1(buffer_position):   32_1(ptr) FunctionParameter
 55_2(vertex_id):   32_2(ptr) FunctionParameter
           248_2:             Label
59_6(byteAddrTemp):   32_3(ptr) Variable Function
            61_3:   21_1(int) Load 55_2(vertex_id)
           132_1:   21_1(int) IMul 61_3 uint(3)
           132_2:   21_1(int) IMul 132_1 uint(4)
           194_1:   21_2(int) ShiftRightLogical 132_2 43_1
                              Store 59_6(byteAddrTemp) 194_1
            61_4:   21_2(int) Load 59_6(byteAddrTemp)
            65_1:   32_4(ptr) AccessChain 55_1(buffer_position) 43_2 61_4
            61_5:   21_1(int) Load 65_1
            61_6:   21_2(int) Load 59_6(byteAddrTemp)
           128_1:   21_2(int) IAdd 61_6 43_3
            65_2:   32_4(ptr) AccessChain 55_1(buffer_position) 43_2 128_1
            61_7:   21_1(int) Load 65_2
            61_8:   21_2(int) Load 59_6(byteAddrTemp)
           128_2:   21_2(int) IAdd 61_8 43_1
            65_3:   32_4(ptr) AccessChain 55_1(buffer_position) 43_2 128_2
            61_9:   21_1(int) Load 65_3
            80_1: 23_2(ivec3) CompositeConstruct 61_5 61_7 61_9
           124_1: 23_1(fvec3) Bitcast 80_1
                              ReturnValue 124_1
                              FunctionEnd
 54_3(@main(u1;):        19_1 Function None 33_3
        55_3(gi):   32_2(ptr) FunctionParameter
           248_3:             Label
59_7(position_ms):   32_5(ptr) Variable Function
     59_8(param):   32_2(ptr) Variable Function
59_9(byteAddrTemp):   32_3(ptr) Variable Function
           61_10:   21_1(int) Load 55_3(gi)
                              Store 59_8(param) 61_10
            57_2: 23_1(fvec3) FunctionCall 54_2(pull_position(block--u1[0]1;u1;) 59_1(buffer_position_ms) 59_8(param)
                              Store 59_7(position_ms) 57_2
           195_1:   21_2(int) ShiftRightArithmetic 43_2 43_1
                              Store 59_9(byteAddrTemp) 195_1
           61_11:   21_2(int) Load 59_9(byteAddrTemp)
           61_12: 23_1(fvec3) Load 59_7(position_ms)
           124_2: 23_2(ivec3) Bitcast 61_12
            81_1:   21_1(int) CompositeExtract 124_2 0
            65_4:   32_4(ptr) AccessChain 59_2(r) 43_2 61_11
                              Store 65_4 81_1
           61_13:   21_2(int) Load 59_9(byteAddrTemp)
           128_3:   21_2(int) IAdd 61_13 43_3
           61_14: 23_1(fvec3) Load 59_7(position_ms)
           124_3: 23_2(ivec3) Bitcast 61_14
            81_2:   21_1(int) CompositeExtract 124_3 1
            65_5:   32_4(ptr) AccessChain 59_2(r) 43_2 128_3
                              Store 65_5 81_2
           61_15:   21_2(int) Load 59_9(byteAddrTemp)
           128_4:   21_2(int) IAdd 61_15 43_1
           61_16: 23_1(fvec3) Load 59_7(position_ms)
           124_4: 23_2(ivec3) Bitcast 61_16
            81_3:   21_1(int) CompositeExtract 124_4 2
            65_6:   32_4(ptr) AccessChain 59_2(r) 43_2 128_4
                              Store 65_6 81_3
                              Return
                              FunctionEnd
